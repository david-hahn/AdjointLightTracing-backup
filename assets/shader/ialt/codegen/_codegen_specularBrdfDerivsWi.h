float t0 = 0;
float t1 = 0;
float t2 = 0;
float t3 = n1*wo1;
float t4 = n2*wo2;
float t5 = n3*wo3;
float t6 = eta_ext*eta_ext;
float t7 = eta_ext*eta_ext*eta_ext;
bool t8 = (eta_ext != 0.0);
float t9 = 1.0/3.141592653589793;
float t10 = alpha2-1.0;
float t11 = 1.0/eta_int;
float t13 = -lp1;
float t14 = -lp2;
float t15 = -lp3;
float t12 = t11*t11;
float t16 = hp1+t13;
float t17 = hp2+t14;
float t18 = hp3+t15;
bool t22 = ((eta_int == eta_ext) && t8);
float t32 = t3+t4+t5;
float t19 = (t16/abs(t16));
float t20 = (t17/abs(t17));
float t21 = (t18/abs(t18));
float t23 = abs(t16);
float t24 = abs(t17);
float t25 = abs(t18);
float t26 = t16*t16;
float t27 = t17*t17;
float t28 = t18*t18;
float t33 = abs(t32);
float t34 = t32*t32;
float t29 = t23*t23;
float t30 = t24*t24;
float t31 = t25*t25;
float t35 = t34+tinyEps;
float t36 = t34-1.0;
float t38 = t26+t27+t28;
float t37 = 1.0/t35;
float t39 = t29+t30+t31;
float t40 = 1.0/sqrt(t38);
float t41 = 1.0/sqrt(t39);
float t43 = alpha2*t36*t37;
float t52 = n1*t16*t40;
float t53 = n2*t17*t40;
float t54 = n3*t18*t40;
float t42 = t41*t41*t41;
float t44 = n1*t41;
float t45 = n2*t41;
float t46 = n3*t41;
float t47 = -t43;
float t55 = t16*t41;
float t56 = t17*t41;
float t57 = t18*t41;
float t97 = t52+t53+t54;
float t48 = -t44;
float t49 = -t45;
float t50 = -t46;
float t51 = t47+1.0;
float t58 = t16*t44;
float t59 = t17*t45;
float t60 = t18*t46;
float t62 = -t55;
float t63 = -t56;
float t64 = -t57;
float t79 = t16*t19*t23*t42;
float t80 = t17*t20*t24*t42;
float t81 = t18*t21*t25*t42;
float t83 = n2*t17*t19*t23*t42;
float t84 = n1*t16*t20*t24*t42;
float t85 = n3*t18*t19*t23*t42;
float t87 = n1*t16*t21*t25*t42;
float t88 = n3*t18*t20*t24*t42;
float t89 = n2*t17*t21*t25*t42;
float t98 = t97*t97;
float t61 = sqrt(t51);
float t65 = t62+wo1;
float t66 = t63+wo2;
float t67 = t64+wo3;
float t82 = n1*t79;
float t86 = n2*t80;
float t90 = n3*t81;
float t91 = -t79;
float t92 = -t80;
float t93 = -t81;
float t99 = t98-1.0;
float t100 = t58+t59+t60;
float t68 = t61+1.0;
float t69 = abs(t65);
float t70 = abs(t66);
float t71 = abs(t67);
float t72 = (t65/abs(t65));
float t73 = (t66/abs(t66));
float t74 = (t67/abs(t67));
float t94 = t41+t91;
float t95 = t41+t92;
float t96 = t41+t93;
float t101 = abs(t100);
float t102 = (t100/abs(t100));
float t103 = t100*t100;
float t108 = t6*t12*t99;
float t150 = t48+t82+t83+t85;
float t151 = t49+t84+t86+t88;
float t152 = t50+t87+t89+t90;
float t75 = t69*t69;
float t76 = t70*t70;
float t77 = t71*t71;
float t78 = 1.0/t68;
float t104 = t101*t101;
float t105 = eta_int*t101;
float t106 = eta_ext*t101;
float t107 = t103+tinyEps;
float t109 = t103-1.0;
bool t115 = (t108 < -1.0);
float t116 = t33*t101*4.0;
float t125 = t16*t20*t24*t42*t69*t72*2.0;
float t126 = t17*t19*t23*t42*t70*t73*2.0;
float t127 = t16*t21*t25*t42*t69*t72*2.0;
float t128 = t18*t19*t23*t42*t71*t74*2.0;
float t129 = t17*t21*t25*t42*t70*t73*2.0;
float t130 = t18*t20*t24*t42*t71*t74*2.0;
float t135 = t69*t72*t94*2.0;
float t136 = t70*t73*t95*2.0;
float t137 = t71*t74*t96*2.0;
float t180 = eta_int*t102*t150;
float t181 = eta_ext*t102*t150;
float t182 = eta_int*t102*t151;
float t183 = eta_ext*t102*t151;
float t184 = eta_int*t102*t152;
float t185 = eta_ext*t102*t152;
float t110 = -t105;
float t111 = -t106;
float t112 = t104-1.0;
float t113 = 1.0/t107;
float t119 = t116+tinyEps;
float t120 = t75+t76+t77;
float t138 = -t135;
float t139 = -t136;
float t140 = -t137;
float t114 = t113*t113;
float t117 = t6*t12*t112;
float t121 = 1.0/t119;
float t133 = 1.0/sqrt(t120);
float t162 = alpha2*t109*t113;
float t186 = alpha2*t100*t113*t150*2.0;
float t187 = alpha2*t100*t113*t151*2.0;
float t188 = alpha2*t100*t113*t152*2.0;
float t189 = t126+t128+t138;
float t190 = t125+t130+t139;
float t191 = t127+t129+t140;
float t118 = t117+1.0;
float t122 = t121*t121;
float t134 = t133*t133*t133;
float t141 = -n1*t133*(t55-wo1);
float t142 = -n2*t133*(t56-wo2);
float t143 = -n3*t133*(t57-wo3);
float t144 = t83*t133;
float t145 = t84*t133;
float t146 = t85*t133;
float t147 = t87*t133;
float t148 = t88*t133;
float t149 = t89*t133;
float t159 = n1*t94*t133;
float t160 = n2*t95*t133;
float t161 = n3*t96*t133;
float t163 = -t162;
float t195 = pow(n1*t133*(t55-wo1)+n2*t133*(t56-wo2)+n3*t133*(t57-wo3),2.0);
float t198 = alpha2*t100*t109*t114*t150*2.0;
float t199 = alpha2*t100*t109*t114*t151*2.0;
float t200 = alpha2*t100*t109*t114*t152*2.0;
float t123 = sqrt(t118);
float t153 = -t144;
float t154 = -t145;
float t155 = -t146;
float t156 = -t147;
float t157 = -t148;
float t158 = -t149;
float t164 = t163+1.0;
float t194 = t141+t142+t143;
float t196 = t10*t195;
float t201 = -t198;
float t202 = -t199;
float t203 = -t200;
float t212 = n1*t134*t189*(t55-wo1)*(-1.0/2.0);
float t213 = n2*t134*t189*(t56-wo2)*(-1.0/2.0);
float t214 = n3*t134*t189*(t57-wo3)*(-1.0/2.0);
float t215 = n1*t134*t190*(t55-wo1)*(-1.0/2.0);
float t216 = n2*t134*t190*(t56-wo2)*(-1.0/2.0);
float t217 = n3*t134*t190*(t57-wo3)*(-1.0/2.0);
float t218 = n1*t134*t191*(t55-wo1)*(-1.0/2.0);
float t219 = n2*t134*t191*(t56-wo2)*(-1.0/2.0);
float t220 = n3*t134*t191*(t57-wo3)*(-1.0/2.0);
float t124 = 1.0/t123;
float t131 = eta_int*t123;
float t132 = eta_ext*t123;
float t165 = sqrt(t164);
float t197 = t196+1.0;
float t221 = t186+t201;
float t222 = t187+t202;
float t223 = t188+t203;
float t225 = t153+t155+t159+t212+t213+t214;
float t226 = t154+t157+t160+t215+t216+t217;
float t227 = t156+t158+t161+t218+t219+t220;
float t166 = 1.0/t165;
float t167 = t165+1.0;
float t168 = t106+t131;
float t169 = t105+t132;
float t172 = t111+t131;
float t173 = t110+t132;
float t178 = pow(t106-t131,2.0);
float t179 = pow(t105-t132,2.0);
float t204 = 1.0/(t197*t197);
float t205 = 1.0/(t197*t197*t197);
float t206 = t6*t11*t101*t102*t124*t150;
float t207 = t7*t12*t101*t102*t124*t150;
float t208 = t6*t11*t101*t102*t124*t151;
float t209 = t7*t12*t101*t102*t124*t151;
float t210 = t6*t11*t101*t102*t124*t152;
float t211 = t7*t12*t101*t102*t124*t152;
float t170 = 1.0/t167;
float t174 = 1.0/(t168*t168);
float t175 = 1.0/(t169*t169);
float t176 = 1.0/(t168*t168*t168);
float t177 = 1.0/(t169*t169*t169);
  if (t22) {
    t0 = 0.0;
  } else if (t108 < -1.0) {
    t0 = (alpha2*t9*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*((alpha2*t100*(t48+t82+t83+t85)*2.0)/t107-alpha2*t100*1.0/(t107*t107)*t109*(t48+t82+t83+t85)*2.0)*1.0/pow(sqrt(-(alpha2*t109)/t107+1.0)+1.0,2.0)*1.0/sqrt(-(alpha2*t109)/t107+1.0)*2.0)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(t116+tinyEps))-(alpha2*t9*t33*t102*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*1.0/pow(t116+tinyEps,2.0)*(t48+t82+t83+t85)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0))-(alpha2*t9*t10*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,3.0)*(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)))*(-t83*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))-t85*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n1*(t41+t91)*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+(n1*t65*(abs(t65)*((t65/abs(t65)))*(t41+t91)*-2.0+t17*t19*t23*t42*abs(t66)*((t66/abs(t66)))*2.0+t18*t19*t23*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n2*t66*(abs(t65)*((t65/abs(t65)))*(t41+t91)*-2.0+t17*t19*t23*t42*abs(t66)*((t66/abs(t66)))*2.0+t18*t19*t23*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n3*t67*(abs(t65)*((t65/abs(t65)))*(t41+t91)*-2.0+t17*t19*t23*t42*abs(t66)*((t66/abs(t66)))*2.0+t18*t19*t23*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0)*(t116+tinyEps));
  } else {
    t0 = (alpha2*t9*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*(-t178*(eta_ext*t102*(t48+t82+t83+t85)+t6*t11*t101*t102*1.0/sqrt(t117+1.0)*(t48+t82+t83+t85))*1.0/pow(t106+eta_int*sqrt(t117+1.0),3.0)-t179*(eta_int*t102*(t48+t82+t83+t85)+t7*t12*t101*t102*1.0/sqrt(t117+1.0)*(t48+t82+t83+t85))*1.0/pow(t105+eta_ext*sqrt(t117+1.0),3.0)+(eta_ext*t102*(t48+t82+t83+t85)-t6*t11*t101*t102*1.0/sqrt(t117+1.0)*(t48+t82+t83+t85))*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0)*(t106-eta_int*sqrt(t117+1.0))+(eta_int*t102*(t48+t82+t83+t85)-t7*t12*t101*t102*1.0/sqrt(t117+1.0)*(t48+t82+t83+t85))*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0)*(t105-eta_ext*sqrt(t117+1.0)))*4.0)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0)*(t116+tinyEps))+(alpha2*t9*((t178*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0))/2.0+(t179*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0))/2.0)*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*((alpha2*t100*(t48+t82+t83+t85)*2.0)/t107-alpha2*t100*1.0/(t107*t107)*t109*(t48+t82+t83+t85)*2.0)*1.0/pow(sqrt(-(alpha2*t109)/t107+1.0)+1.0,2.0)*1.0/sqrt(-(alpha2*t109)/t107+1.0)*2.0)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(t116+tinyEps))-(alpha2*t9*t33*t102*((t178*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0))/2.0+(t179*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0))/2.0)*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*1.0/pow(t116+tinyEps,2.0)*(t48+t82+t83+t85)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0))-(alpha2*t9*t10*((t178*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0))/2.0+(t179*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0))/2.0)*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,3.0)*(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)))*(-t83*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))-t85*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n1*(t41+t91)*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+(n1*t65*(abs(t65)*((t65/abs(t65)))*(t41+t91)*-2.0+t17*t19*t23*t42*abs(t66)*((t66/abs(t66)))*2.0+t18*t19*t23*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n2*t66*(abs(t65)*((t65/abs(t65)))*(t41+t91)*-2.0+t17*t19*t23*t42*abs(t66)*((t66/abs(t66)))*2.0+t18*t19*t23*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n3*t67*(abs(t65)*((t65/abs(t65)))*(t41+t91)*-2.0+t17*t19*t23*t42*abs(t66)*((t66/abs(t66)))*2.0+t18*t19*t23*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0)*(t116+tinyEps));
  }
  if (t22) {
    t1 = 0.0;
  } else if (t108 < -1.0) {
    t1 = (alpha2*t9*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*((alpha2*t100*(t49+t84+t86+t88)*2.0)/t107-alpha2*t100*1.0/(t107*t107)*t109*(t49+t84+t86+t88)*2.0)*1.0/pow(sqrt(-(alpha2*t109)/t107+1.0)+1.0,2.0)*1.0/sqrt(-(alpha2*t109)/t107+1.0)*2.0)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(t116+tinyEps))-(alpha2*t9*t33*t102*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*1.0/pow(t116+tinyEps,2.0)*(t49+t84+t86+t88)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0))-(alpha2*t9*t10*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,3.0)*(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)))*(-t84*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))-t88*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*(t41+t92)*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+(n1*t65*(abs(t66)*((t66/abs(t66)))*(t41+t92)*-2.0+t16*t20*t24*t42*abs(t65)*((t65/abs(t65)))*2.0+t18*t20*t24*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n2*t66*(abs(t66)*((t66/abs(t66)))*(t41+t92)*-2.0+t16*t20*t24*t42*abs(t65)*((t65/abs(t65)))*2.0+t18*t20*t24*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n3*t67*(abs(t66)*((t66/abs(t66)))*(t41+t92)*-2.0+t16*t20*t24*t42*abs(t65)*((t65/abs(t65)))*2.0+t18*t20*t24*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0)*(t116+tinyEps));
  } else {
    t1 = (alpha2*t9*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*(-t178*(eta_ext*t102*(t49+t84+t86+t88)+t6*t11*t101*t102*1.0/sqrt(t117+1.0)*(t49+t84+t86+t88))*1.0/pow(t106+eta_int*sqrt(t117+1.0),3.0)-t179*(eta_int*t102*(t49+t84+t86+t88)+t7*t12*t101*t102*1.0/sqrt(t117+1.0)*(t49+t84+t86+t88))*1.0/pow(t105+eta_ext*sqrt(t117+1.0),3.0)+(eta_ext*t102*(t49+t84+t86+t88)-t6*t11*t101*t102*1.0/sqrt(t117+1.0)*(t49+t84+t86+t88))*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0)*(t106-eta_int*sqrt(t117+1.0))+(eta_int*t102*(t49+t84+t86+t88)-t7*t12*t101*t102*1.0/sqrt(t117+1.0)*(t49+t84+t86+t88))*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0)*(t105-eta_ext*sqrt(t117+1.0)))*4.0)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0)*(t116+tinyEps))+(alpha2*t9*((t178*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0))/2.0+(t179*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0))/2.0)*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*((alpha2*t100*(t49+t84+t86+t88)*2.0)/t107-alpha2*t100*1.0/(t107*t107)*t109*(t49+t84+t86+t88)*2.0)*1.0/pow(sqrt(-(alpha2*t109)/t107+1.0)+1.0,2.0)*1.0/sqrt(-(alpha2*t109)/t107+1.0)*2.0)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(t116+tinyEps))-(alpha2*t9*t33*t102*((t178*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0))/2.0+(t179*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0))/2.0)*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*1.0/pow(t116+tinyEps,2.0)*(t49+t84+t86+t88)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0))-(alpha2*t9*t10*((t178*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0))/2.0+(t179*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0))/2.0)*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,3.0)*(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)))*(-t84*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))-t88*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*(t41+t92)*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+(n1*t65*(abs(t66)*((t66/abs(t66)))*(t41+t92)*-2.0+t16*t20*t24*t42*abs(t65)*((t65/abs(t65)))*2.0+t18*t20*t24*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n2*t66*(abs(t66)*((t66/abs(t66)))*(t41+t92)*-2.0+t16*t20*t24*t42*abs(t65)*((t65/abs(t65)))*2.0+t18*t20*t24*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n3*t67*(abs(t66)*((t66/abs(t66)))*(t41+t92)*-2.0+t16*t20*t24*t42*abs(t65)*((t65/abs(t65)))*2.0+t18*t20*t24*t42*abs(t67)*((t67/abs(t67)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0)*(t116+tinyEps));
  }
  if (t22) {
    t2 = 0.0;
  } else if (t108 < -1.0) {
    t2 = (alpha2*t9*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*((alpha2*t100*(t50+t87+t89+t90)*2.0)/t107-alpha2*t100*1.0/(t107*t107)*t109*(t50+t87+t89+t90)*2.0)*1.0/pow(sqrt(-(alpha2*t109)/t107+1.0)+1.0,2.0)*1.0/sqrt(-(alpha2*t109)/t107+1.0)*2.0)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(t116+tinyEps))-(alpha2*t9*t33*t102*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*1.0/pow(t116+tinyEps,2.0)*(t50+t87+t89+t90)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0))-(alpha2*t9*t10*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,3.0)*(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)))*(-t87*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))-t89*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*(t41+t93)*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+(n1*t65*(abs(t67)*((t67/abs(t67)))*(t41+t93)*-2.0+t16*t21*t25*t42*abs(t65)*((t65/abs(t65)))*2.0+t17*t21*t25*t42*abs(t66)*((t66/abs(t66)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n2*t66*(abs(t67)*((t67/abs(t67)))*(t41+t93)*-2.0+t16*t21*t25*t42*abs(t65)*((t65/abs(t65)))*2.0+t17*t21*t25*t42*abs(t66)*((t66/abs(t66)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n3*t67*(abs(t67)*((t67/abs(t67)))*(t41+t93)*-2.0+t16*t21*t25*t42*abs(t65)*((t65/abs(t65)))*2.0+t17*t21*t25*t42*abs(t66)*((t66/abs(t66)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0)*(t116+tinyEps));
  } else {
    t2 = (alpha2*t9*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*(-t178*(eta_ext*t102*(t50+t87+t89+t90)+t6*t11*t101*t102*1.0/sqrt(t117+1.0)*(t50+t87+t89+t90))*1.0/pow(t106+eta_int*sqrt(t117+1.0),3.0)-t179*(eta_int*t102*(t50+t87+t89+t90)+t7*t12*t101*t102*1.0/sqrt(t117+1.0)*(t50+t87+t89+t90))*1.0/pow(t105+eta_ext*sqrt(t117+1.0),3.0)+(eta_ext*t102*(t50+t87+t89+t90)-t6*t11*t101*t102*1.0/sqrt(t117+1.0)*(t50+t87+t89+t90))*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0)*(t106-eta_int*sqrt(t117+1.0))+(eta_int*t102*(t50+t87+t89+t90)-t7*t12*t101*t102*1.0/sqrt(t117+1.0)*(t50+t87+t89+t90))*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0)*(t105-eta_ext*sqrt(t117+1.0)))*4.0)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0)*(t116+tinyEps))+(alpha2*t9*((t178*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0))/2.0+(t179*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0))/2.0)*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*((alpha2*t100*(t50+t87+t89+t90)*2.0)/t107-alpha2*t100*1.0/(t107*t107)*t109*(t50+t87+t89+t90)*2.0)*1.0/pow(sqrt(-(alpha2*t109)/t107+1.0)+1.0,2.0)*1.0/sqrt(-(alpha2*t109)/t107+1.0)*2.0)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(t116+tinyEps))-(alpha2*t9*t33*t102*((t178*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0))/2.0+(t179*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0))/2.0)*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,2.0)*1.0/pow(t116+tinyEps,2.0)*(t50+t87+t89+t90)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0))-(alpha2*t9*t10*((t178*1.0/pow(t106+eta_int*sqrt(t117+1.0),2.0))/2.0+(t179*1.0/pow(t105+eta_ext*sqrt(t117+1.0),2.0))/2.0)*1.0/pow(t10*pow(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)),2.0)+1.0,3.0)*(n1*t65*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n2*t66*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*t67*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0)))*(-t87*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))-t89*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+n3*(t41+t93)*1.0/sqrt(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0))+(n1*t65*(abs(t67)*((t67/abs(t67)))*(t41+t93)*-2.0+t16*t21*t25*t42*abs(t65)*((t65/abs(t65)))*2.0+t17*t21*t25*t42*abs(t66)*((t66/abs(t66)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n2*t66*(abs(t67)*((t67/abs(t67)))*(t41+t93)*-2.0+t16*t21*t25*t42*abs(t65)*((t65/abs(t65)))*2.0+t17*t21*t25*t42*abs(t66)*((t66/abs(t66)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0+(n3*t67*(abs(t67)*((t67/abs(t67)))*(t41+t93)*-2.0+t16*t21*t25*t42*abs(t65)*((t65/abs(t65)))*2.0+t17*t21*t25*t42*abs(t66)*((t66/abs(t66)))*2.0)*1.0/pow(pow(abs(t65),2.0)+pow(abs(t66),2.0)+pow(abs(t67),2.0),3.0/2.0))/2.0)*1.6E+1)/((sqrt(-(alpha2*t36)/t35+1.0)+1.0)*(sqrt(-(alpha2*t109)/t107+1.0)+1.0)*(t116+tinyEps));
  }
gradSpecular[0] = t0;
gradSpecular[1] = t1;
gradSpecular[2] = t2;
